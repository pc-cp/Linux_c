                            C语言学习笔记
*1
C语言发展史：
    1960 原型A语言->ALGOL语言
    1963 CPL语言
    1967 BCPL
    1970 B语言
    1973 C语言
C语言特点：
    1、基础性语言
    2、语法简洁、紧凑、方便、灵活
    3、运算法，数据结构丰富
    4、结构化，模块化编程
    5、移植性好，执行效率高
    6、允许直接对硬件操作 
学习建议：
    1、概念的正确性
    2、动手能力
    3、阅读优秀的程序段
    4、大量练习、面试题
课程讲解思路：
    1、基本概念
    2、数据类型，运算符
    3、I/O专题
    4、流程控制
    5、数组
    6、指针
    7、函数
    8、构造类型
    9、动态内存的管理
    10、调试工具和调试技巧：gdb，make
    11、常用库函数
平台：64位redhat6，vim，gcc(make)

*2
/*
    #include <stdio.h>
    #include <stdlib.h>

    int main(void)
    {
        printf("hello world\n");
        exit(0);
    }
 */
hello.c:
C源文件->预处理->编译->汇编->链接->可执行文件
hello.c     hello.i  hello.s  hello.o hello

*3
        一、基本概念
1、以helloworld为例
    头文件正确包含
    以函数为单位来进行程序编写
    声明部分+实现部分
    return 0；//给它的父进程看的
    添加注释
2、算法:解决问题的方法
3、程序：用某种语言实现算法
4、进程：
5、防止内存越界、内存泄漏
        二、数据类型，运算符和表达式
1、数据类型
    所占字节数
    存储区别
    不同类型
            十进制：254
            二进制：0b11111110
            八进制：0376
            十六进制：0xFE
    类型转换(隐式，显式)
    特殊性
        bool <stdbool.h>
        float
        char类型是否有符号
        不同形式的0值：0，‘0’，“0”，'\0'
2、常量与变量
    常量：在程序执行过程中值不会发生变化的量
    分类：整型常量、实型常量、字符常量、字符串常量、标识常量
    标识常量：#define，处理在程序的预处理阶段，占编译时间。优点：一改全改，缺点：不检查语法，只是单纯的宏体与宏名之间的替换。
    变量：用来保存一些特定内容，并且在程序执行过程中值随时会发生的量。
    [存储类型] 数据类型 标识符 = 值；
    TYPE NAME = VALUE;
    存储类型：auto static register extern(说明型)
    auto：默认，自动分配空间，自动回收空间。
    register：(建议型)寄存器类型，只能定义局部变量，不能定义全局变量，大小有限制。寄存器没有地址，所以一个寄存器类型的变量无法打印出地址查看或使用。
    static：静态类型，自动初始化为0或空值，并其变量的值具有继承性。
    extern：说明型，意味着不能改变被说明的变量的值或类型。
3、运算符和表达式
    表达式和语句的区别
    运算符部分：
        每个运算符的操作个数
        结合性
        优先级
        运算符的特殊性
            %：要求操作数为整型
            = 与 ==
            逻辑运算符的短路特性 ||  &&
            a -= a *= a += 3;  右结合：自右向左
            ？：
            sizeof()
        位运算的重要性
            >> << | & ^ ~
            将操作数中第n位置1，其他位不变：num = num ｜1<<n;
            将操作数中第n位清0，其他位不变：num = num $ ~(1<<n);
            测试第n位：if(num & 1<<n)
        三、输入、输出专题
input & output -> I/O
1、格式化输入输出函数：scanf, printf
2、字符输入输出函数：getchar, putchar
3、字符串输入输出函数：gets(!)-->fgets()，puts()
        四、流程控制
1、顺序、选择、循环
2、简单结构与复杂结构：自然流程（有限状态机）
顺序：语句逐句执行
选择：出现了一种以上的情况
循环：在某个条件成立的情况下，重复执行某个动作

关键字：
选择：if-else、switch-case
循环：while、do-while、for、if-goto
辅助控制：continue、break

详解：
if-else：
格式：
    if(exp)
        cmd；

    if(exp)
        cmd1;
    else
        cmd2;
注意：else只和离它最近的if相匹配

详解：
switch-case：
语法格式：
    switch(exp)
    {
        case 常量表达式：
            break；
        case 常量表达式：
            break；
        default://上面选项都不符合的时候执行
            break;
    }
详解：
while、do-while、for、if-goto
语法格式：
    while:（最少执行次数为0）
    while(exp)：
        loop;

    do-while：有些事情只有做完才知道结果
        do
        {
            loop;
        }while(exp);
    
    for：
        for(exp1; exp2; exp3)
            loop;

    if-goto:（慎用：goto实现的是无条件的跳转，且不能跨函数跳转）

死循环：
    while(1);
    for(;;);
    杀掉死循环：ctrl+c

辅助控制：break continue
    while()
    {
        ....
        continue; //break;
        ....
    }
    break：结束本层循环
    continue：结束本次循环
//没有简单的程序，只有头脑简单的程序员
        五、数组
                构造类型之一，连续存放
一维数组
    1、定义
        [存储类型] 数据类型 标识符[下标];
    2、初始化
        不初始化
        部分初始化
        全部初始化
    3、元素引用
    4、数组名
    5、数组越界
二维数组
    1、定义，初始化
        [存储类型] 数据类型 标识符[行下标][列下标];
    2、元素引用
        数组名[行标][列标];
    3、存储形式
        按行存储、按行存储
    4、深入理解二维数组
        行指针、列指针
字符数组
    1、定义，初始化，存储特点
        [存储类型] 数据类型 标识符[下标]...
        单个字符初始化
    2、输入输出
    3、常用函数
        strlen: 以尾0为结束标记来判断当前串的大小
        sizeof: 这个串在内存中所真正占用的字节个数
        strcat: man
        strcmp: man
多维数组
        六、指针
变量与地址
    地址：经纬坐标
指针和指针变量
    int i = 1;          //假设i所在内存地址为       0x2000
    int *p = &i;        //假设p所在内存地址为       0x3000
    int **q = &p;       //假设q所在内存地址为       0x4000
        i   :       //房间名为i中的值---->1
        &i  :       //房间名为i的房间号---->0x2000
        p   :       //房间名为p中的值，即房间名为i的房间号---->0x2000
        &p  :       //房间名为p的房间号---->0x3000
        *p  :       //首先得到房间名为p中的值，即房间名为i的房间号，再取以房间名为i中的值---->1
        q   :       //房间名为q中的值，即房间名为p的房间号---->0x3000
        &q  :       //房间名为q的房间号---->0x4000
        *q  ：      //首先得到房间名为q中的值，即房间名为p的房间号，再取以房间名为p中的值，即房间名为i的房间号---->0x2000
        **q :       //首先得到房间名为q中的值，即房间名为p的房间号，再取以房间名为p中的值，即房间名为i的房间号，最后取以房间名为i中的值---->1
********************
#include <stdio.h>
#include <stdlib.h>

        int main()
{
    int i = 1;
    int *p = &i;
    int **q = &p;
    
    printf("  i = %d\n", i);
    printf(" &i = %p\n", &i);
    printf("  p = %p\n", p);
    printf(" &p = %p\n", &p);
    printf(" *p = %d\n", *p);
    printf("  q = %p\n", q);
    printf(" &q = %p\n", &q);
    printf(" *q = %p\n", *q);
    printf("**q = %d\n", **q);
    
    
    
}

     i = 1
    &i = 0x7ffeecbe569c
     p = 0x7ffeecbe569c
    &p = 0x7ffeecbe5690
    *p = 1
     q = 0x7ffeecbe5690
    &q = 0x7ffeecbe5688
    *q = 0x7ffeecbe569c
   **q = 1

********************

    指针变量固定大小与类型无关！int类型的指针代表该指针
    读取int类型这么长的数据作为一个单元，char类型的指针
    代表该指针读取char类型这么长的数据作为一个单元

直接访问与间接访问
空指针与野指针
空类型
    void * ：百搭类型
定义与初始化的书写规则
指针运算
    &   *   关系运算    ++  --    
指针与数组
    指针与一维数组
        int a[3];
        int *p = a;
        TYPE NAME = VALUE;
             a[i]  :  a[i] = *(a+i) = *(p+i) = p[i]
            &a[i]  : &a[i] =    a+i = p+i    = &p[i]
        a与p的区别：a是常量，p是变量
    指针与二维数组
        行指针，列指针
            行指针：每次自增或自减都是以行为单位进行的(数组指针)
            列指针：每次自增或自减都是以列为单位进行的
            行指针可以退化成列指针，加*操作！
    int a[2][3];
    int (*p)[3] = a;        //p为行指针
    printf("a = %p\n p = %p\n", a, p);
    printf("a+1 = %p\n p+1 = %p\n", a+1, p+1);

     a   = 0x7ffee4d3c680
     p   = 0x7ffee4d3c680
     a+1 = 0x7ffee4d3c68c
     p+1 = 0x7ffee4d3c68c

    指针与字符数组
1、字符指针与字符数组相同点
#include <stdio.h>
#include <stdlib.h>

int main()
{
    char str[] = "I love china!";
    char *p = str+7;
    
    puts(str);
    puts(p);        //字符串：以尾0为止
}

/**
  I love china!
  china!
  */
2、字符指针与字符数组的不同点
        字符数组名是地址常量
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    char str[] = "hello";
    printf("sizeof(str) = %lu strlen(str) = %lu\n", sizeof(str), strlen(str));
    puts(str);
    strcpy(str, "world");
    puts(str);
    
    char *str1 = "hello";   
    printf("sizeof(str1) = %lu strlen(str1) = %lu\n", sizeof(str1), strlen(str1));
    puts(str1);
    strcpy(str1, "world");      //试图用world来覆盖串常量“hello”的内容空间
    puts(str1);
}

/**
  sizeof(str) = 6 strlen(str) = 5
  hello
  world
  sizeof(str1) = 8 strlen(str1) = 5
  hello
  Terminated due to signal: BUS ERROR (10)
  */

const与指针[****不会]
    #define PI 3.14             //不检查语法
    const float pi = 3.14;      //检查语法,将变量pi常量化，以后变量pi不再改变值

    指针常量
        int *const p;
        指向的房间号不能变化，但是房间号中的内容可以改变
        
    常量指针
        int const *p;
        const int *p;
        指向的房间号可以变化，但是该房间号中的内容无法改变

    双重const
        const int *cosnt p;
    
    简单粗暴的辨别方式：
        如果先看到const，就把常量念处理，如果看到的是*，就把指针念出来。
指针数组与数组指针
    数组指针：[存储类型] 数据类型 (*指针)[下标] = 值
        如：int (*p)[3];  -> type name; -> int[3] *p;
    指针数组：[存储类型] 数据类型 * 数组名[长度]
        如：int *arr[3];  -> type name;
多级指针

